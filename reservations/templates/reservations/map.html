{% extends "core/base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'reservations/css/restaurant-map.css' %}">
{% endblock %}

{% block content %}
<div class="map-container">
    <h1>Схема зала</h1>
    
    <div class="map-controls">
        <div class="time-selector">
            <input type="date" id="map-date" value="{{ today|date:'Y-m-d' }}">
            <input type="time" id="map-time" value="19:00">
            <button id="update-map" class="btn">Обновить</button>
        </div>
    </div>
    
    <div class="restaurant-map">
        <!-- SVG фон -->
        <svg class="map-background" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
            <!-- Контуры зала -->
            <rect x="50" y="50" width="700" height="500" fill="none" stroke="#ccc" stroke-width="2"/>
            
            <!-- Разметка зон -->
            <text x="100" y="80" fill="#666" font-size="14">Барная стойка</text>
            <text x="600" y="80" fill="#666" font-size="14">Вход</text>
            <rect x="200" y="400" width="400" height="150" fill="#fff9e6" stroke="#ffcc00" stroke-width="1.5"/>
            <text x="300" y="480" fill="#ff9900" font-size="16" font-weight="bold">VIP-зона</text>
            
            <!-- Дополнительные элементы -->
            <circle cx="650" cy="100" r="8" fill="#4CAF50"/>
            <text x="670" y="105" fill="#333" font-size="12">Туалеты</text>
        </svg>
        
        <!-- Контейнер для столиков -->
        <div class="tables-container" id="tables-container"></div>
    </div>
    
    <div class="map-legend">
        <div class="legend-item"><span class="color-box free"></span> Свободно</div>
        <div class="legend-item"><span class="color-box booked"></span> Занято</div>
        <div class="legend-item"><span class="color-box vip"></span> VIP</div>
    </div>
</div>

<script src="{% static 'reservations/js/restaurant-map.js' %}"></script>
{% endblock %}